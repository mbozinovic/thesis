"0","# Establish bounding box"
"0","bbox <- st_bbox(c(xmin = -110, "
"0","            xmax = -128, "
"0","            ymax = 44, "
"0","            ymin = 30), crs = st_crs(4326))"
"0",""
"0","#Establish basemap"
"0","allTrackbase <- get_tiles(bbox, provider = ""Esri.WorldGrayCanvas"", zoom = 5)"
"0",""
"0","# Establish inset map"
"0","us_region <- st_bbox(c(xmin = -90,"
"0","            xmax = -120, "
"0","            ymax = 48, "
"0","            ymin = 25), crs = st_crs(4326))"
"0","usa <- get_tiles(us_region, provider = ""Esri.WorldGrayCanvas"", zoom = 4)"
"0",""
"0","sg <- bb_poly(bb(tracks_sf))"
"0","inset <- tm_shape(usa) + tm_rgb() + tm_shape(sg) + tm_borders(col = ""red"")"
"0",""
"0",""
"0","#Map all tracks"
"0","main <- tm_shape(allTrackbase) + tm_rgb() +"
"0","  tm_shape(trackssf) +"
"0","  tm_grid(alpha = 0.6, col = ""grey"") +"
"0","  tm_dots(col = ""darkblue"", size = 0.001, legend.show = TRUE) +"
"0","  tm_scale_bar(width = 0.3, text.size = 3, position = c(0.2, 0.03)) +"
"0","  tm_compass(type = ""arrow"", position = c(0.05, 0.05), color.light = ""white"") +"
"0","  tm_add_legend('symbol',"
"0","                type = ""line"","
"0","                col = ""darkblue"","
"0","                labels = ""Drifting buoy tracks"","
"0","                size = 1,"
"0","                lwd = 2)"
"0",""
"0","vp <- viewport(x=0.66, y=0.8, width = 0.26, height=0.4)"
"0","main"
