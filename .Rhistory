# drift data
geom_sf(data = bgo) +
coord_sf(xlim = range(df_all$lon, na.rm=TRUE),
ylim=range(df_all$lat, na.rm= TRUE),
expand=FALSE) +
#lines and points
geom_path(data = df_all,
aes(x=lon,y=lat,group=spotID,color=OL125),
alpha = 0.5)+
geom_point(data = df_all,
aes(x=lon,y=lat,group=spotID,fill= OL125),
alpha = 0.7, shape=21, size = 4) +
#formatting
scale_fill_viridis_c(option = "inferno")+
scale_color_viridis_c(option = "inferno")+
scale_size_continuous(range = c(0.1,10))+
labs(x=NULL, y=NULL,
fill = 'Speed (m/s)',
color = 'OL 125')+
theme_dark()+
theme(panel.grid = element_blank())
p = ggplot() +
# drift data
geom_sf(data = bgo) +
coord_sf(xlim = range(df_all$lon, na.rm=TRUE),
ylim=range(df_all$lat, na.rm= TRUE),
expand=FALSE) +
#lines and points
geom_path(data = df_all,
aes(x=lon,y=lat,group=spotID,color=OL125),
alpha = 0.5)+
geom_point(data = df_all,
aes(x=lon,y=lat,group=spotID,fill= OL125),
alpha = 0.7, shape=21, size = 4) +
#formatting
scale_fill_viridis_c(option = "inferno")+
scale_color_viridis_c(option = "inferno")+
scale_size_continuous(range = c(0.1,10))+
labs(x=NULL, y=NULL,
fill = 'Speed (m/s)',
color = 'OL 125')+
theme_dark()+
theme(panel.grid = element_blank())
p = ggplot() +
# drift data
geom_sf(data = bgo) +
coord_sf(xlim = range(df_all$lon, na.rm=TRUE),
ylim=range(df_all$lat, na.rm= TRUE),
expand=FALSE)
p = ggplot() +
# drift data
geom_sf(data = bgo) +
coord_sf(xlim = range(df_all$lon, na.rm=TRUE),
ylim=range(df_all$lat, na.rm= TRUE),
expand=FALSE)
p = ggplot() +
# drift data
geom_sf(data = bgo) +
coord_sf(xlim = range(df_all$lon, na.rm=TRUE),
ylim=range(df_all$lat, na.rm= TRUE),
expand=FALSE) +
#lines and points
geom_path(data = df_all,
aes(x=lon,y=lat,group=spotID,color=OL125),
alpha = 0.5)+
geom_point(data = df_all,
aes(x=lon,y=lat,group=spotID,fill= OL125),
alpha = 0.7, shape=21, size = 4) +
#formatting
scale_fill_viridis_c(option = "inferno")+
scale_color_viridis_c(option = "inferno")+
scale_size_continuous(range = c(0.1,10))+
labs(x=NULL, y=NULL,
fill = 'Speed (m/s)',
color = 'OL 125')+
theme_dark()+
theme(panel.grid = element_blank())
p
p = ggplot() +
# drift data
geom_sf(data = bgo) +
aes(coord_sf(xlim = range(df_all$lon, na.rm=TRUE),
ylim=range(df_all$lat, na.rm= TRUE),
expand=FALSE)) +
#lines and points
geom_path(data = df_all,
aes(x=lon,y=lat,group=spotID,color=OL125),
alpha = 0.5)+
geom_point(data = df_all,
aes(x=lon,y=lat,group=spotID,fill= OL125),
alpha = 0.7, shape=21, size = 4) +
#formatting
scale_fill_viridis_c(option = "inferno")+
scale_color_viridis_c(option = "inferno")+
scale_size_continuous(range = c(0.1,10))+
labs(x=NULL, y=NULL,
fill = 'Speed (m/s)',
color = 'OL 125')+
theme_dark()+
theme(panel.grid = element_blank())
p
p <- ggplot() +
geom_sf(data = bplot) +
#lines and points
geom_path(data = df_all,
aes(x=lon,y=lat,group=spotID,color=OL125),
alpha = 0.5)+
geom_point(data = df_all,
aes(x=lon,y=lat,group=spotID,fill= OL125),
alpha = 0.7, shape=21, size = 4)
plot(bplot)
plot(df_all)
p <- ggplot() +
geom_sf(data = bgo) +
#lines and points
geom_path(data = df_all,
aes(x=lon,y=lat,group=spotID,color=OL125),
alpha = 0.5)+
geom_point(data = df_all,
aes(x=lon,y=lat,group=spotID,fill= OL125),
alpha = 0.7, shape=21, size = 4)
p
p <- ggplot(data = bgo) +
#geom_sf(data = bgo) +
#lines and points
geom_path(data = df_all,
aes(x=lon,y=lat,group=spotID,color=OL125),
alpha = 0.5)+
geom_point(data = df_all,
aes(x=lon,y=lat,group=spotID,fill= OL125),
alpha = 0.7, shape=21, size = 4) +
#formatting
scale_fill_viridis_c(option = "inferno")+
scale_color_viridis_c(option = "inferno")+
scale_size_continuous(range = c(0.1,10))+
labs(x=NULL, y=NULL,
fill = 'Speed (m/s)',
color = 'OL 125')+
theme_dark()+
theme(panel.grid = element_blank())
p
plot(bgo)
p <- ggplot() +
geom_sf(data = bgo)
p
?geom_sf
p <- ggplot() +
geom_sf(mapping = aes(), data = bgo) +
#lines and points
geom_path(data = df_all,
aes(x=lon,y=lat,group=spotID,color=OL125),
alpha = 0.5)+
geom_point(data = df_all,
aes(x=lon,y=lat,group=spotID,fill= OL125),
alpha = 0.7, shape=21, size = 4)
p
# basemap
bg <- ne_countries(scale = "medium", continent = 'north america', returnclass = "sf")
bg
plot(bg)
class(bg)
View(bg)
st_geometry_type(bgo)
st_geometry_type(bg)
st_geometry_type(bplot)
class(bplot)
bplot
# Alternative basemap + drift
gplot() +
geom_sf(data = bplot)
# Alternative basemap + drift
ggplot() +
geom_sf(data = bplot)
# Alternative basemap + drift
ggplot() +
geom_raster(data = bplot)
# Alternative basemap + drift
ggplot() +
geom_map(data = bplot)
bplot <- bgo %>%
#fortify() %>%   # Turn raster into dataframe
ggplot(aes(x, y, fill = z)) +
geom_raster() +
scale_fill_etopo() # color in pixels
# Alternative basemap + drift
ggplot() +
geom_sf(data = bplot)
bgo
autoplot.bathy(bplot)
autoplot.bathy(bgo)
autoplot(bgo)
# Alternative basemap + drift
bf <- fortify.bathy(bgo)
class(bf)
ggplot() +
geom_sf(data = bf)
ggplot() +
geom_sf(data = bf)
ggplot() +
geom_sf(data = bf, mapping = aes())
ggplot() +
geom_contour(data = bf, mapping = aes(x=x, y=y, z=z, breaks=c(-100), size=c(0.3), color="grey"))
geom_contour(data = bf, mapping = aes(x=x, y=y, z=z
geom_contour(data = bf, mapping = aes(x=x, y=y, z=z)
ggplot() +
geom_contour(data = bf, mapping = aes(x=x, y=y, z=z))
ggplot() +
geom_contour(data = bf, mapping = aes(x=x, y=y, z=z, color = "gray"))
ggplot() +
geom_contour(data = bf, mapping = aes(x=x, y=y, z=z), color = "gray")
ggplot() +
geom_contour(data = bf, mapping = aes(x=x, y=y, z=z), color = "gray")
#lines and points
geom_path(data = df_all,
aes(x=lon,y=lat,group=spotID,color=OL125),
alpha = 0.5)+
geom_point(data = df_all,
aes(x=lon,y=lat,group=spotID,fill= OL125),
alpha = 0.7, shape=21, size = 4)
ggplot() +
geom_contour(data = bf, mapping = aes(x=x, y=y, z=z), color = "gray")
#lines and points
geom_path(data = df_all,
aes(x=lon,y=lat,group=spotID,color=OL125),
alpha = 0.5)+
geom_point(data = df_all,
aes(x=lon,y=lat,group=spotID,fill= spd),
alpha = 0.7, shape=21, size = 4)
ggplot() +
geom_contour(data = bf, mapping = aes(x=x, y=y, z=z), color = "gray") +
#lines and points
geom_path(data = df_all,
aes(x=lon,y=lat,group=spotID,color=OL125),
alpha = 0.5)+
geom_point(data = df_all,
aes(x=lon,y=lat,group=spotID,fill= spd),
alpha = 0.7, shape=21, size = 4)
ggplot() +
geom_contour(data = bf, mapping = aes(x=x, y=y, z=z), color = "gray") +
#lines and points
geom_path(data = df_all,
aes(x=lon,y=lat,group=spotID,color=OL125),
alpha = 0.5)+
geom_point(data = df_all,
aes(x=lon,y=lat,group=spotID,fill= OL125),
alpha = 0.7, shape=21, size = 4) +
#formatting
scale_fill_viridis_c(option = "inferno")+
scale_color_viridis_c(option = "inferno")+
scale_size_continuous(range = c(0.1,10))+
labs(x=NULL, y=NULL,
fill = 'Speed (m/s)',
color = 'OL 125')+
theme_dark()+
theme(panel.grid = element_blank())
?geom_path
ggplot() +
geom_contour(data = bf, mapping = aes(x=x, y=y, z=z), color = "gray") +
#lines and points
geom_path(data = df_all,
aes(x=lon,y=lat,group=spotID,color=OL125),
alpha = 0.5, lineend = butt)+
geom_point(data = df_all,
aes(x=lon,y=lat,group=spotID,fill= OL125),
alpha = 0.7, shape=21, size = 4) +
#formatting
scale_fill_viridis_c(option = "inferno")+
scale_color_viridis_c(option = "inferno")+
scale_size_continuous(range = c(0.1,10))+
labs(x=NULL, y=NULL,
fill = 'Speed (m/s)',
color = 'OL 125')+
theme_dark()+
theme(panel.grid = element_blank())
ggplot() +
geom_contour(data = bf, mapping = aes(x=x, y=y, z=z), color = "gray") +
#lines and points
geom_path(data = df_all,
aes(x=lon,y=lat,group=spotID,color=OL125),
alpha = 0.5, lineend = "butt")+
geom_point(data = df_all,
aes(x=lon,y=lat,group=spotID,fill= OL125),
alpha = 0.7, shape=21, size = 4) +
#formatting
scale_fill_viridis_c(option = "inferno")+
scale_color_viridis_c(option = "inferno")+
scale_size_continuous(range = c(0.1,10))+
labs(x=NULL, y=NULL,
fill = 'Speed (m/s)',
color = 'OL 125')+
theme_dark()+
theme(panel.grid = element_blank())
ggplot() +
geom_contour(data = bf, mapping = aes(x=x, y=y, z=z), color = "gray") +
#lines and points
geom_path(data = df_all,
aes(x=lon,y=lat,group=spotID,color=OL125),
alpha = 0.5, lineend = "butt")+
geom_point(data = df_all,
aes(x=lon,y=lat,group=spotID,fill= OL125),
alpha = 0.7, shape=21, size = 4) +
#formatting
scale_fill_viridis_c(option = "inferno")+
scale_color_viridis_c(option = "inferno")+
scale_size_continuous(range = c(0.1,10))+
labs(x=NULL, y=NULL,
fill = 'Speed (m/s)',
color = 'OL 125')+
#theme_dark()+
theme(panel.grid = element_blank())
p
ggplot() +
geom_contour(data = bf, mapping = aes(x=x, y=y, z=z), color = "gray") +
#lines and points
geom_path(data = df_all,
aes(x=lon,y=lat,group=spotID,color=OL125),
alpha = 0.5)+
geom_point(data = df_all,
aes(x=lon,y=lat,group=spotID,fill= OL125),
alpha = 0.7, shape=21, size = 4) +
#formatting
scale_fill_viridis_c(option = "inferno")+
scale_color_viridis_c(option = "inferno")+
scale_size_continuous(range = c(0.1,10))+
labs(x=NULL, y=NULL,
fill = 'Speed (m/s)',
color = 'OL 125')+
#theme_dark()+
theme(panel.grid = element_blank())
p <- ggplot() +
geom_contour(data = bf, mapping = aes(x=x, y=y, z=z), color = "gray") +
#lines and points
geom_path(data = df_all,
aes(x=lon,y=lat,group=spotID,color=OL125),
alpha = 0.5)+
geom_point(data = df_all,
aes(x=lon,y=lat,group=spotID,fill= OL125),
alpha = 0.7, shape=21, size = 4) +
#formatting
scale_fill_viridis_c(option = "inferno")+
scale_color_viridis_c(option = "inferno")+
scale_size_continuous(range = c(0.1,10))+
labs(x=NULL, y=NULL,
fill = 'Speed (m/s)',
color = 'OL 125')+
#theme_dark()+
theme(panel.grid = element_blank())
anim = p +
transition_reveal(along = date)+
ease_aes('linear')+
exit_shrink()+
ggtitle("Date: {frame_along}")
animate(anim, nframes = 60, fps = 5)
?geom_point
vignette("ggplot2-specs")
p <- ggplot() +
geom_contour(data = bf, mapping = aes(x=x, y=y, z=z), color = "gray") +
#lines and points
geom_path(data = df_all,
aes(x=lon,y=lat,group=spotID,color=OL125),
alpha = 0.5)+
geom_point(data = df_all,
aes(x=lon,y=lat,group=spotID,fill= OL125),
alpha = 0.7, shape=18, size = 4, stroke = 0) +
#formatting
scale_fill_viridis_c(option = "inferno")+
scale_color_viridis_c(option = "inferno")+
scale_size_continuous(range = c(0.1,10))+
labs(x=NULL, y=NULL,
fill = 'Speed (m/s)',
color = 'OL 125')+
#theme_dark()+
theme(panel.grid = element_blank())
anim = p +
transition_reveal(along = date)+
ease_aes('linear')+
exit_shrink()+
ggtitle("Date: {frame_along}")
animate(anim, nframes = 60, fps = 5)
p <- ggplot() +
geom_contour(data = bf, mapping = aes(x=x, y=y, z=z), color = "gray") +
#lines and points
geom_path(data = df_all,
aes(x=lon,y=lat,group=spotID,color=OL125),
alpha = 0.5)+
geom_point(data = df_all,
aes(x=lon,y=lat,group=spotID,fill= OL125),
alpha = 0.7, shape=18, size = 4, stroke = 2) +
#formatting
scale_fill_viridis_c(option = "inferno")+
scale_color_viridis_c(option = "inferno")+
scale_size_continuous(range = c(0.1,10))+
labs(x=NULL, y=NULL,
fill = 'Speed (m/s)',
color = 'OL 125')+
#theme_dark()+
theme(panel.grid = element_blank())
p
p <- ggplot() +
geom_contour(data = bf, mapping = aes(x=x, y=y, z=z), color = "gray") +
#lines and points
geom_path(data = df_all,
aes(x=lon,y=lat,group=spotID,color=OL125),
alpha = 0.5)+
geom_point(data = df_all,
aes(x=lon,y=lat,group=spotID,fill= OL125),
alpha = 0.7, shape=21, size = 4, stroke = 2) +
#formatting
scale_fill_viridis_c(option = "inferno")+
scale_color_viridis_c(option = "inferno")+
scale_size_continuous(range = c(0.1,10))+
labs(x=NULL, y=NULL,
fill = 'Speed (m/s)',
color = 'OL 125')+
#theme_dark()+
theme(panel.grid = element_blank())
p
p <- ggplot() +
geom_contour(data = bf, mapping = aes(x=x, y=y, z=z), color = "gray") +
#lines and points
geom_path(data = df_all,
aes(x=lon,y=lat,group=spotID,color=OL125),
alpha = 0.5)+
geom_point(data = df_all,
aes(x=lon,y=lat,group=spotID,fill= OL125),
alpha = 0.7, shape=21, size = 4, stroke = 0) +
#formatting
scale_fill_viridis_c(option = "inferno")+
scale_color_viridis_c(option = "inferno")+
scale_size_continuous(range = c(0.1,10))+
labs(x=NULL, y=NULL,
fill = 'Speed (m/s)',
color = 'OL 125')+
#theme_dark()+
theme(panel.grid = element_blank())
p
bgo <- getNOAA.bathy(lon1 = min(df_all$lon-0.7), lon2 = max(df_all$lon + 0.7),
lat1 = min(df_all$lat-0.7), lat2=max(df_all$lat + 0.7), resolution = 1)
# Alternative basemap + drift
bf <- fortify.bathy(bgo) # converts bathy object to data frame
p <- ggplot() +
geom_contour(data = bf, mapping = aes(x=x, y=y, z=z), color = "gray") +
#lines and points
geom_path(data = df_all,
aes(x=lon,y=lat,group=spotID,color=OL125),
alpha = 0.5)+
geom_point(data = df_all,
aes(x=lon,y=lat,group=spotID,fill= OL125),
alpha = 0.7, shape=21, size = 4, stroke = 0) +
#formatting
scale_fill_viridis_c(option = "inferno")+
scale_color_viridis_c(option = "inferno")+
scale_size_continuous(range = c(0.1,10))+
labs(x=NULL, y=NULL,
fill = 'Speed (m/s)',
color = 'OL 125')+
#theme_dark()+
theme(panel.grid = element_blank())
p
anim = p +
transition_reveal(along = date)+
ease_aes('linear')+
exit_shrink()+
ggtitle("Date: {frame_along}")
animate(anim, nframes = 60, fps = 5)
p <- ggplot() +
geom_contour(data = bf, mapping = aes(x=x, y=y, z=z), color = "gray") +
#lines and points
geom_path(data = df_all,
aes(x=lon,y=lat,group=spotID,color=OL125),
alpha = 0.5)+
geom_point(data = df_all,
aes(x=lon,y=lat,group=spotID,fill= OL125),
alpha = 0.7, shape=21, size = OL125, stroke = 0) +
#formatting
scale_fill_viridis_c(option = "inferno")+
scale_color_viridis_c(option = "inferno")+
scale_size_continuous(range = c(0.1,10))+
labs(x=NULL, y=NULL,
fill = 'Speed (m/s)',
color = 'OL 125')+
#theme_dark()+
theme(panel.grid = element_blank())
p <- ggplot() +
geom_contour(data = bf, mapping = aes(x=x, y=y, z=z), color = "gray") +
#lines and points
geom_path(data = df_all,
aes(x=lon,y=lat,group=spotID,color=OL125),
alpha = 0.5)+
geom_point(data = df_all,
aes(x=lon,y=lat,group=spotID,fill= OL125),
alpha = 0.7, shape=21, size = "OL125", stroke = 0) +
#formatting
scale_fill_viridis_c(option = "inferno")+
scale_color_viridis_c(option = "inferno")+
scale_size_continuous(range = c(0.1,10))+
labs(x=NULL, y=NULL,
fill = 'Speed (m/s)',
color = 'OL 125')+
#theme_dark()+
theme(panel.grid = element_blank())
p
OL125
df_all$OL125
min(df_all$OL125)
max(df_all$OL125)
bplot <- bgo %>%
fortify() %>%   # Turn raster into dataframe
ggplot(aes(x, y, fill = z)) +
geom_raster() +
scale_fill_etopo() # color in pixels
bplot
